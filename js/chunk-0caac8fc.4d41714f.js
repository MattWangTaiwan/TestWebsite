(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0caac8fc"],{"0be5":function(e,t,a){"use strict";var s=a("87fd"),o=a.n(s);o.a},"2b40":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.isAssociated?a("iframe",{staticClass:"iframe-panel",attrs:{src:"https://www.public.com.tw/member-certification/4010/"+e.stateUserId}}):e._e()},o=[],r=a("d4ec"),c=a("bee2"),i=a("262e"),n=a("2caf"),d=a("9ab4"),u=a("3d20"),l=a.n(u),m=a("60a3"),b=a("4bb5"),f=function(e){Object(i["a"])(a,e);var t=Object(n["a"])(a);function a(){var e;return Object(r["a"])(this,a),e=t.apply(this,arguments),e.isAssociated=!1,e}return Object(c["a"])(a,[{key:"created",value:function(){var e=this;this.isMemberProcess?(this.isAssociated=!0,window.addEventListener("message",this.receiveMessage,!1)):l.a.fire({width:300,showCloseButton:!1,showCancelButton:!0,background:"#FFFFFF",title:"是否關聯公職王帳號",text:"",customClass:{title:"modal-title",content:"modal-content",confirmButton:"modal-confirm-button-half",cancelButton:"modal-cancel-button-half"},confirmButtonText:"關聯",cancelButtonText:"略過",reverseButtons:!0}).then((function(t){t.isConfirmed?(e.isAssociated=!0,window.addEventListener("message",e.receiveMessage,!1)):e.$router.push("/login/set_member_profile")}))}},{key:"receiveMessage",value:function(e){var t=this;if("https://www.public.com.tw"===e.origin&&e.data.Data){console.log(JSON.stringify(e));var a={Approve_Key:e.data.Data.certification_guid,PID:e.data.Data.id,Name:this.stateName,Source:"CF04",Status:"0"};"0000"===e.data.Data.Code?this.addCkMember(a).then((function(e){var a=[{UserGuid:t.stateUserId,MergeGuid:e}];return t.mergeUserApply(a)})).then((function(){t.showMessage(!0,"")})).catch((function(e){t.showMessage(!1,e)})):"7997"!==e.data.Data.Code&&"7998"!==e.data.Data.Code&&"7999"!==e.data.Data.Code&&"6996"!==e.data.Data.Code||this.showMessage(!1,e.data.Data.Message)}}},{key:"showMessage",value:function(e,t){var a=this;l.a.fire({width:300,showCloseButton:!1,background:"#FFFFFF",title:e?"關聯成功":"關聯失敗",text:t,customClass:{title:"modal-title",content:"modal-content",confirmButton:"modal-confirm-button"},confirmButtonText:"確認"}).then((function(){a.isMemberProcess?a.$router.push("/member/edit_profile"):a.$router.push("/login/set_member_profile")}))}},{key:"isMemberProcess",get:function(){return"member"===this.$route.query.process}}]),a}(m["f"]);Object(d["c"])([Object(b["c"])("userId")],f.prototype,"stateUserId",void 0),Object(d["c"])([Object(b["c"])("name")],f.prototype,"stateName",void 0),Object(d["c"])([Object(b["a"])("addCkMember")],f.prototype,"addCkMember",void 0),Object(d["c"])([Object(b["a"])("getMemberUser")],f.prototype,"getMemberUser",void 0),Object(d["c"])([Object(b["a"])("mergeUserApply")],f.prototype,"mergeUserApply",void 0),f=Object(d["c"])([m["a"]],f);var p=f,h=p,w=(a("0be5"),a("2877")),v=Object(w["a"])(h,s,o,!1,null,"d30cd434",null);t["default"]=v.exports},"87fd":function(e,t,a){}}]);
//# sourceMappingURL=chunk-0caac8fc.4d41714f.js.map