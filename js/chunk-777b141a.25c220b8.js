(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-777b141a"],{"0d72":function(t,e,i){},"13d5":function(t,e,i){"use strict";var n=i("23e7"),a=i("d58f").left,s=i("a640"),c=i("ae40"),o=s("reduce"),r=c("reduce",{1:0});n({target:"Array",proto:!0,forced:!o||!r},{reduce:function(t){return a(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}})},"21e2":function(t,e,i){},"2a60":function(t,e,i){"use strict";var n=i("ddce"),a=i.n(n);a.a},4799:function(t,e,i){"use strict";var n=i("0d72"),a=i.n(n);a.a},"4bb5":function(t,e,i){"use strict";i.d(e,"c",(function(){return s})),i.d(e,"b",(function(){return c})),i.d(e,"a",(function(){return o}));var n=i("2fe1"),a=i("2f62"),s=r("computed",a["e"]),c=r("computed",a["c"]),o=r("methods",a["b"]);r("methods",a["d"]);function r(t,e){function i(i,a){return Object(n["a"])((function(n,s){n[t]||(n[t]={});var c,o=(c={},c[s]=i,c);n[t][s]=void 0!==a?e(a,o)[s]:e(o)[s]}))}function a(t,e){if("string"===typeof e){var n=e,a=t;return i(n,void 0)(a,n)}var s=l(e),c=t;return i(c,s)}return a}function l(t){var e=t&&t.namespace;if("string"===typeof e)return"/"!==e[e.length-1]?e+"/":e}},6719:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("banner",{attrs:{link:!0,skip:!1},on:{"link-exec":t.link},scopedSlots:t._u([{key:"icon",fn:function(){return[n("span",{staticClass:"slot-span font-14-normal font-color-8",staticStyle:{cursor:"pointer"},on:{click:t.refresh}},[t._v("刷新")])]},proxy:!0}])},[t._v(" 點數紀錄 ")]),t.showFixed?n("div",{staticClass:"tab-panel-fixed"},[n("div",[n("div",{class:["new"===t.flag?"selected":""],on:{click:function(e){return t.changeFlag("new")}}},[t._v("新增紀錄")]),n("div",{class:["used"===t.flag?"selected":""],on:{click:function(e){return t.changeFlag("used")}}},[t._v("使用紀錄")])])]):t._e(),n("div",{staticClass:"main",on:{scroll:t.handleScroll}},[n("div",{staticClass:"card-panel"},[n("div",{staticClass:"card font-color-header"},[n("div",{staticClass:"font-16-normal"},[t._v(" 目前擁有 ")]),n("div",[n("span",{staticClass:"font-36-normal",staticStyle:{"margin-right":"12px"}},[t._v(t._s(t.points))]),n("span",{staticClass:"font-16-bold"},[t._v("點")])])])]),n("div",{staticClass:"expired-panel"},[n("div",[n("div",[t._v(t._s(t.first?t.first.expired.split(" ")[0]:"")+" 過期點數")]),n("div",{staticStyle:{"margin-left":"80px"}},[t._v(" "+t._s(t.first?t.first.points:0)+" 點 ")]),n("img",{attrs:{src:i("ac9e"),width:"24",height:"24"},on:{click:t.expire}})])]),n("div",{staticClass:"tab-panel"},[n("div",[n("div",{class:["new"===t.flag?"selected":""],on:{click:function(e){return t.changeFlag("new")}}},[t._v("新增紀錄")]),n("div",{class:["used"===t.flag?"selected":""],on:{click:function(e){return t.changeFlag("used")}}},[t._v("使用紀錄")])])]),n("div",{staticClass:"content-panel"},[t.showEmpty?n("div",{staticStyle:{"margin-top":"48px"}},[n("img",{attrs:{src:i("a0b6"),width:"80",height:"80"}}),n("div",{staticClass:"font-16-normal",staticStyle:{"margin-top":"24px",color:"#333333"}},[t._v(" 還沒有"+t._s("new"===t.flag?"新增":"使用")+"紀錄 ")])]):["new"===t.flag?t._l(t.newList,(function(t){return n("points-log-item",{key:t.id,attrs:{item:t,isUsed:!1}})})):t._l(t.usedList,(function(t){return n("points-log-item",{key:t.id,attrs:{item:t,isUsed:!0}})}))]],2)])],1)},a=[],s=(i("d81d"),i("13d5"),i("d4ec")),c=i("bee2"),o=i("262e"),r=i("2caf"),l=i("9ab4"),u=i("60a3"),p=i("4bb5"),d=i("84af"),f=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"log-panel",class:[t.isUsed?"log-panel-used":"log-panel-new"]},[i("div",[i("span",{staticClass:"points font-16-bold font-color-header"},[t._v(t._s(t.isUsed?"-":"+")+t._s(t.item.points)+"點")]),i("div",{staticClass:"font-14-normal font-color-6",staticStyle:{"margin-bottom":"12px"}},[t._v(t._s(t.item.date))]),i("div",{staticClass:"font-16-normal",staticStyle:{"margin-bottom":"8px"}},[t._v(t._s(t.item.title))]),t.isUsed?t._e():i("div",{staticClass:"font-14-normal font-color-6"},[t._v("有效期限："+t._s(t.item.expired))])])])},v=[],b=function(t){Object(o["a"])(i,t);var e=Object(r["a"])(i);function i(){return Object(s["a"])(this,i),e.apply(this,arguments)}return i}(u["f"]);Object(l["a"])([Object(u["d"])()],b.prototype,"isUsed",void 0),Object(l["a"])([Object(u["d"])()],b.prototype,"item",void 0),b=Object(l["a"])([u["a"]],b);var h=b,g=h,m=(i("4799"),i("2877")),y=Object(m["a"])(g,f,v,!1,null,"392d937a",null),k=y.exports,j=function(t){Object(o["a"])(i,t);var e=Object(r["a"])(i);function i(){var t;return Object(s["a"])(this,i),t=e.apply(this,arguments),t.flag="new",t.showFixed=!1,t.top=0,t}return Object(c["a"])(i,[{key:"created",value:function(){this.getMemberBalance(),this.getMemberPayDetail(),this.getTopUpDetail()}},{key:"refresh",value:function(){this.getMemberBalance(),this.getMemberPayDetail(),this.getTopUpDetail()}},{key:"link",value:function(){this.$router.push("/activity/main")}},{key:"expire",value:function(){this.$router.push("/activity/expired_points")}},{key:"changeFlag",value:function(t){if(t!==this.flag){this.flag=t;var e=document.querySelector(".main");e.scrollTop=this.top}}},{key:"handleScroll",value:function(t){this.top=t.target.scrollTop,this.showFixed=this.top>228}},{key:"newList",get:function(){return this.stateNewPoints}},{key:"usedList",get:function(){return this.stateUsedPoints}},{key:"first",get:function(){return 0===this.statePoints.length?void 0:this.statePoints[0]}},{key:"points",get:function(){return 0===this.statePoints.length?0:this.statePoints.map((function(t){return t.points})).reduce((function(t,e){return t+e}))}},{key:"showEmpty",get:function(){return"new"===this.flag?0===this.newList.length:0===this.usedList.length}},{key:"showList",get:function(){return"new"===this.flag?this.newList:this.usedList}}]),i}(u["f"]);Object(l["a"])([Object(p["a"])("getMemberBalance",{namespace:"task"})],j.prototype,"getMemberBalance",void 0),Object(l["a"])([Object(p["a"])("getMemberPayDetail",{namespace:"task"})],j.prototype,"getMemberPayDetail",void 0),Object(l["a"])([Object(p["a"])("getTopUpDetail",{namespace:"task"})],j.prototype,"getTopUpDetail",void 0),Object(l["a"])([Object(p["c"])("points",{namespace:"task"})],j.prototype,"statePoints",void 0),Object(l["a"])([Object(p["c"])("usedPoints",{namespace:"task"})],j.prototype,"stateUsedPoints",void 0),Object(l["a"])([Object(p["c"])("newPoints",{namespace:"task"})],j.prototype,"stateNewPoints",void 0),j=Object(l["a"])([Object(u["a"])({components:{banner:d["a"],pointsLogItem:k}})],j);var O=j,_=O,w=(i("2a60"),Object(m["a"])(_,n,a,!1,null,"6c48e0c2",null));e["default"]=w.exports},"7eb2":function(t,e,i){t.exports=i.p+"img/vector.7a592790.svg"},"84af":function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("div",{staticClass:"banner"},[t.link?n("img",{staticClass:"link-img",staticStyle:{cursor:"pointer"},attrs:{src:i("7eb2"),width:"10",height:"18"},on:{click:t.linkExec}}):t._e(),n("div",{staticClass:"font-16-bold",staticStyle:{height:"100%","line-height":"52px",margin:"0 auto"}},[t._t("default")],2),t._t("icon"),t.skip?n("span",{staticClass:"font-14-normal font-color-8 skip",staticStyle:{cursor:"pointer"},on:{click:t.skipExec}},[t._v(" 略過 ")]):t._e()],2)])},a=[],s=i("d4ec"),c=i("bee2"),o=i("262e"),r=i("2caf"),l=i("9ab4"),u=i("60a3"),p=function(t){Object(o["a"])(i,t);var e=Object(r["a"])(i);function i(){return Object(s["a"])(this,i),e.apply(this,arguments)}return Object(c["a"])(i,[{key:"linkExec",value:function(){return""}},{key:"skipExec",value:function(){return""}}]),i}(u["f"]);Object(l["a"])([Object(u["d"])({default:!1})],p.prototype,"link",void 0),Object(l["a"])([Object(u["d"])({default:!1})],p.prototype,"skip",void 0),Object(l["a"])([Object(u["b"])()],p.prototype,"linkExec",null),Object(l["a"])([Object(u["b"])()],p.prototype,"skipExec",null),p=Object(l["a"])([u["a"]],p);var d=p,f=d,v=(i("9071"),i("2877")),b=Object(v["a"])(f,n,a,!1,null,"494f1abb",null);e["a"]=b.exports},9071:function(t,e,i){"use strict";var n=i("21e2"),a=i.n(n);a.a},a0b6:function(t,e,i){t.exports=i.p+"img/box.b14a11e3.svg"},ac9e:function(t,e,i){t.exports=i.p+"img/arrow_right.549fb183.svg"},d58f:function(t,e,i){var n=i("1c0b"),a=i("7b0b"),s=i("44ad"),c=i("50c4"),o=function(t){return function(e,i,o,r){n(i);var l=a(e),u=s(l),p=c(l.length),d=t?p-1:0,f=t?-1:1;if(o<2)while(1){if(d in u){r=u[d],d+=f;break}if(d+=f,t?d<0:p<=d)throw TypeError("Reduce of empty array with no initial value")}for(;t?d>=0:p>d;d+=f)d in u&&(r=i(r,u[d],d,l));return r}};t.exports={left:o(!1),right:o(!0)}},ddce:function(t,e,i){}}]);
//# sourceMappingURL=chunk-777b141a.25c220b8.js.map